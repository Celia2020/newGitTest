<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <title>Document</title>
</head>

<body>
  <main>
    <div class="content">
      <h1 class="anim1"><span>Bridging the gap</span> <span>between dream</span> <span>and reality</span></h1>
      <p class="anim1">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Odio at ipsa alias modi natus
        excepturi?</p>
      <a href="#" class="anim1" id="cta">Start Dreaming</a>
    </div>
  </main>
  <aside>
    <div class="wrapper">
      <img class="swirl" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2621168/swirl.png" alt="Swirl Graphic">
    </div>
  </aside>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/CSSRulePlugin.min.js"></script>

  <script>
    var rule = CSSRulePlugin.getRule("span:after");

    var tl = gsap.timeline({
      defaults: {
        duration: 1
      }
    });

    // Notice 1):
    // After the first .from, the others behind it(.to .from) which also reach to tl absolutely
    // So, before the others', we couldn't use ";" to devide them.
    // Notice 2):
    // Make sure the format of gsap's timeline to&from is .to/.from( target, {}, time)
    tl.from('.anim1', {
        y: -50,
        stagger: .6,
        opacity: 0
      })
      .to(rule, {
        duration: 1.8,
        cssRule: {
          scaleY: 0
        }
      }, "-=2.2")
      .from('aside', {
        backgroundPosition: '200px 0',
        opacity: 0
      }, "-=1.5")
      .from('img', {
        y: 50,
        opacity: 0
      }, "-=.5");

    document.getElementById('cta').addEventListener('click', () => {
      tl.reversed() ? tl.play() : tl.reverse();
    })
  </script>
</body>

</html>